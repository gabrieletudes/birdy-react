(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(70),s=t.n(r),i=(t(76),t(5)),c=t(6),o=t(8),m=t(7),u=t(9),d=(t(78),t(140)),p=t(141),h=t(137),g=t(139),b=t(4),E=t.n(b),f={apiKey:"AIzaSyAHWcwh5U_EXXyICQAIwPof9za-p7d_pgA",authDomain:"birdy-2d83a.firebaseapp.com",databaseURL:"https://birdy-2d83a.firebaseio.com",projectId:"birdy-2d83a",storageBucket:"birdy-2d83a.appspot.com",messagingSenderId:"212095890669"},y=t(14),v=t(132),_=function(e){var a=e.label,t=e.type,n=e.name,r=e.value,s=e.onChange,i=e.ariaDescription,c=e.errormessage,o=e.defaultValue;return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label",htmlFor:n},l.a.createElement("input",{type:t,name:n,onChange:s,value:r,className:"label__input",id:n,"aria-describedby":i,required:!0,defaultValue:o}),l.a.createElement("span",{className:"label__text"},a)),c&&l.a.createElement("span",{className:"label__error"},c))},N=t(41),w=t.n(N),O=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={account:{useremail:"",password:""},errors:{username:"",password:""}},t.handleSignin=function(e){e.preventDefault();var a=t.state.account,n=a.useremail,l=a.password;E.a.auth().signInWithEmailAndPassword(n,l).then(function(e){}).catch(function(e){console.log(e)})},t.handleLog=function(e){var a=e.currentTarget,n=Object(y.a)({},t.state.account);n[a.name]=a.value,t.setState({account:n})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state.account;return l.a.createElement("div",{className:"login-wrapper"},l.a.createElement("div",{className:"big-logo-wrapper"},l.a.createElement("img",{src:w.a,alt:"Birdy Logo",width:"132",className:"round-image__element"})),l.a.createElement("form",{onSubmit:this.handleSignin,action:"",className:"login-form form"},l.a.createElement(_,{type:"text",name:"useremail",onChange:this.handleLog,label:"Entrez ici votre Email *",value:e.useremail,className:"form-control","aria-describedby":"User Email"}),l.a.createElement(_,{type:"password",name:"password",onChange:this.handleLog,label:"Entrez ici votre mot de passe *",value:e.password,className:"form-control","aria-describedby":"Mot de passe de l'utilisateur"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary h-margin-top--tiny h-margin-bottom--small"},"Me connecter"),l.a.createElement(v.a,{className:"btn btn-secondary--outlined",to:"/signup"},"Creer un compte")))}}]),a}(n.Component),j=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={account:{full_name:"",isn_id:"",useremail:"",password:""},errors:{full_name:"",isn_id:"",useremail:"",password:""}},t.handleSignup=function(e){e.preventDefault();var a=t.state.account,n=a.useremail,l=a.password;E.a.auth().createUserWithEmailAndPassword(n,l).then(function(e){t.createNewUser(e)}).catch(function(e){console.error(e)})},t.handleLog=function(e){var a=e.currentTarget,n=Object(y.a)({},t.state.account);n[a.name]=a.value,t.setState({account:n})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"createNewUser",value:function(e){var a=this.state.account,t=a.full_name,n=a.isn_id,l=e.user,r=l.email,s=l.uid;E.a.database().ref("users/"+s).set({full_name:t,email:r,isn_id:n,userId:s})}},{key:"render",value:function(){var e=this.state.account;return l.a.createElement("div",{className:"login-wrapper"},l.a.createElement("div",{className:"big-logo-wrapper"},l.a.createElement("img",{src:w.a,alt:"Birdy Logo",width:"132",className:"round-image__element"})),l.a.createElement("form",{onSubmit:this.handleSignup,action:"",className:"login-form form"},l.a.createElement(_,{type:"text",name:"full_name",onChange:this.handleLog,label:"Entrez ici votre Nom et prenom *",value:e.full_name,className:"form-control","aria-describedby":"Prenom de l'utilisateur",errormessage:"Mot de passe est obligatoir"}),l.a.createElement(_,{type:"text",name:"isn_id",onChange:this.handleLog,label:"Entez ici votre ID du ISN *",value:e.isn_id,className:"form-control","aria-describedby":"Id du ISN de l'utilisateur"}),l.a.createElement(_,{type:"text",name:"useremail",onChange:this.handleLog,label:"Entrez ici votre Email *",value:e.useremail,className:"form-control","aria-describedby":"User Email"}),l.a.createElement(_,{type:"password",name:"password",onChange:this.handleLog,label:"Entrez ici votre mot de passe *",value:e.password,className:"form-control","aria-describedby":"Mot de passe de l'utilisateur"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary h-margin-top--tiny h-margin-bottom--small"},"Creer mon compte"),l.a.createElement(v.a,{className:"btn btn-secondary--outlined",to:"/"},"Se connecter")))}}]),a}(n.Component),x=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={showmessage:!1,capture_session:{started:!1,location:{lat:"",lng:""},method:"",uid:E.a.auth().currentUser.uid},newcapture:{age:"",fat:"",gender:"",latin_name:"",reprise:!1,ring_number:"",session_id:"",weight:"",wings_length:""}},t.handleCaptureSession=function(e){var a=e.currentTarget,n=Object(y.a)({},t.state.capture_session);n[a.name]=a.value,t.setState({capture_session:n})},t.handleStartCaptureSession=function(e){e.preventDefault();var a=t.state.capture_session,n=a.location,l=a.method,r=a.uid,s=Date.now(),i=E.a.database().ref("capture_sessions/"+s);i.set({location:n,method:l,uid:r}),i.once("value").then(function(e){var a=Object(y.a)({},t.state.newcapture),n=Object(y.a)({},t.state.capture_session);a.session_id=e.key,n.started=!0,t.setState({capture_session:n}),t.setState({newcapture:a})})},t.handleAdd=function(e){var a=e.currentTarget,n=Object(y.a)({},t.state.newcapture);n[a.name]=a.value,t.setState({newcapture:n})},t.handleSubmit=function(e){e.preventDefault();var a=t.state.newcapture,n=a.age,l=a.fat,r=a.gender,s=a.latin_name,i=a.reprise,c=a.ring_number,o=a.session_id,m=a.weight,u=a.wings_length;E.a.database().ref("single_captures").push({age:n,fat:l,gender:r,latin_name:s,reprise:i,ring_number:c,session_id:o,weight:m,wings_length:u}).then(function(){var e=Object(y.a)({},t.state.newcapture);e.age="",e.fat="",e.gender="",e.latin_name="",e.reprise=!1,e.ring_number="",e.weight="",e.wings_length="",t.setState({newcapture:e})})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.database().ref("single_captures").on("value",function(a){e.setState({single_captures:a.val()})})}},{key:"startNewSession",value:function(){var e=this.state.capture_session,a=e.started,t=e.method,n=this.state.newcapture,r=n.age,s=n.fat,i=n.gender,c=n.latin_name,o=n.reprise,m=n.ring_number,u=n.weight,d=n.wings_length;return!0!==a?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:""},"Envie de commencer une nouvelle capture?"),l.a.createElement("form",{onSubmit:this.handleStartCaptureSession,action:"",className:"login-form form h-margin-top--big"},l.a.createElement(_,{type:"text",name:"method",onChange:this.handleCaptureSession,label:"Method de capture",value:t,className:"form-control h-margin-top--tiny","aria-describedby":"Method de capture"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary h-margin-top--tiny h-margin-bottom--small"},"Commencer la capture"))):l.a.createElement("form",{onSubmit:this.handleSubmit,action:"",className:"login-form form"},l.a.createElement(_,{type:"text",name:"latin_name",onChange:this.handleAdd,label:"Nom latin",value:c,className:"form-control","aria-describedby":"Nom latin de l'oiseau"}),l.a.createElement(_,{type:"number",name:"ring_number",onChange:this.handleAdd,label:"Num\xe9ro de la bague",value:m,className:"form-control","aria-describedby":"Num\xe9ro de la bague de l'oiseau"}),l.a.createElement(_,{type:"number",name:"age",onChange:this.handleAdd,label:"Age de l'oiseau",value:r,className:"form-control","aria-describedby":"Age de l'oiseau"}),l.a.createElement(_,{type:"text",name:"reprise",onChange:this.handleAdd,label:"S'agit il d'une reprise?",value:o,className:"form-control","aria-describedby":"S'agit il d'une reprise?"}),l.a.createElement(_,{type:"text",name:"gender",onChange:this.handleAdd,label:"Sexe de l'oiseau",value:i,className:"form-control","aria-describedby":"Sexe de l'oiseau"}),l.a.createElement(_,{type:"text",name:"fat",onChange:this.handleAdd,label:"Adiposit\xe9",value:s,className:"form-control","aria-describedby":"Adiposit\xe9 de l'oiseau"}),l.a.createElement(_,{type:"text",name:"wings_length",onChange:this.handleAdd,label:"Longueur alaire",value:d,className:"form-control","aria-describedby":"Longueur alaire de l'oiseau"}),l.a.createElement(_,{type:"text",name:"weight",onChange:this.handleAdd,label:"Poid de l'oiseau",value:u,className:"form-control","aria-describedby":"Poid de l'oiseau"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary h-margin-top--tiny h-margin-bottom--small"},"Valider ma capture"),l.a.createElement(v.a,{className:"btn btn-secondary--outlined",to:"/signup"},"Finir la session de bagage"))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.startNewSession(),";")}}]),a}(n.Component),C=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={encyclopedia:null},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.database().ref("encyclopedia").on("value",function(a){e.setState({encyclopedia:a.val()})})}},{key:"renderEncyclopedia",value:function(){var e=this.state.encyclopedia;if(null!==e){var a=Object.values(e);return l.a.createElement(l.a.Fragment,null,a.map(function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("ul",{className:"list-data"},l.a.createElement("li",{className:"list-data__element"},l.a.createElement("img",{src:e.picture,alt:"",width:"250",height:"250"})),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("audio",{className:"custom-audio-small",controls:!0,src:e.song}," Your browser does not support the ",l.a.createElement("code",null,"audio")," element.")),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Nom commun"),e.common_name),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Nom Latin"),e.latin_name),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Famille"),e.family),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Type de vol"),e.flight_type),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Taille"),e.height),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Dur\xe9e de vie"),e.lifetime),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"lat"),e.distribution.lat),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"lng"),e.distribution.lng),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Alimentation"),e.food),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Poids"),e.weight),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Envergure"),e.wingspan),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Habitat"),e.habitat),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Lieux de nidifications"),e.nesting_spots),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Description"),e.description)))}))}return l.a.createElement("p",null,"No data yet")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Encyclopedie"),this.renderEncyclopedia())}}]),a}(n.Component),S=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={captures:null},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.database().ref("single_captures").on("value",function(a){e.setState({captures:a.val()})})}},{key:"renderCaptures",value:function(){var e=this.state.captures;if(null!==e){var a=Object.values(e);return l.a.createElement(l.a.Fragment,null,a.map(function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("h2",null,e.latin_name),l.a.createElement("ul",{className:"list-data"},l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"\xc2ge"),e.age),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Sex"),e.gender),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Reprise"),e.reprise),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Num\xe9ro de bague"),e.ring_number),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Poids"),e.weight),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Longueur alaire"),e.wings_length)))}))}return l.a.createElement("p",null,"No data yet")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Les captures"),this.renderCaptures())}}]),a}(n.Component),k=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={users:null},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.database().ref("users").on("value",function(a){e.setState({users:a.val()})})}},{key:"renderUsers",value:function(){var e=this.state.users;if(null!==e){var a=Object.values(e);return l.a.createElement(l.a.Fragment,null,a.map(function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("h2",null,e.latin_name),l.a.createElement("ul",{className:"list-data"},l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Nom et Prenom"),e.full_name),l.a.createElement("li",{className:"list-data__element"},l.a.createElement("span",{className:"text-bold h-margin-right--tiny"},"Email"),e.email)))}))}return l.a.createElement("p",null,"No data yet")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Les utilisateurs"),this.renderUsers())}}]),a}(n.Component),A=t(24),L=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"signOutUser",value:function(){E.a.auth().signOut()}},{key:"render",value:function(){return l.a.createElement("header",{className:"header"},l.a.createElement("h1",{className:"header__title"},"Birdy"),l.a.createElement("button",{onClick:this.signOutUser,className:"color--beige"},l.a.createElement(A.a,{icon:"sign-out-alt",size:"2x"})))}}]),a}(n.Component),D=t(138),z=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{className:"app-nav"},l.a.createElement(D.a,{exact:!0,to:"/",className:"app-nav__link",activeClassName:"app-nav__link--selected"},l.a.createElement(A.a,{icon:"hand-holding",size:"2x"}),"Capturer"),l.a.createElement(D.a,{to:"/encyclopedie",className:"app-nav__link",activeClassName:"app-nav__link--selected"},l.a.createElement(A.a,{icon:"feather-alt",size:"2x"}),"Encyclopedie"),l.a.createElement(D.a,{to:"/captures",className:"app-nav__link",activeClassName:"app-nav__link--selected"},l.a.createElement(A.a,{icon:"dove",size:"2x"}),"Captures"),l.a.createElement(D.a,{to:"/utilisateurs",className:"app-nav__link",activeClassName:"app-nav__link--selected"},l.a.createElement(A.a,{icon:"users",size:"2x"}),"Utilisateurs"))}}]),a}(n.Component),I=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={user:null},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){E.a.initializeApp(f),this.authListener()}},{key:"authListener",value:function(){var e=this;E.a.auth().onAuthStateChanged(function(a){a?(e.setState({user:a}),localStorage.setItem("user",a.uid)):(e.setState({user:null}),localStorage.removeItem("user"))})}},{key:"render",value:function(){return null===this.state.user?l.a.createElement(d.a,null,l.a.createElement(p.a,null,l.a.createElement(h.a,{path:"/",exact:!0,component:O}),l.a.createElement(h.a,{path:"/signup",component:j}),l.a.createElement(g.a,{to:"/"}))):l.a.createElement(d.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(L,null),l.a.createElement("main",{className:"app-main"},l.a.createElement(p.a,null,l.a.createElement(h.a,{exact:!0,path:"/",component:x}),l.a.createElement(h.a,{path:"/encyclopedie",component:C}),l.a.createElement(h.a,{path:"/captures",component:S}),l.a.createElement(h.a,{path:"/utilisateurs",component:k}),l.a.createElement(g.a,{to:"/"}))),l.a.createElement(z,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=t(34),F=t(25);U.b.add(F.a,F.b,F.f,F.d,F.e,F.c),s.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},41:function(e,a,t){e.exports=t.p+"static/media/logo-birdy-text.2596802d.svg"},71:function(e,a,t){e.exports=t(136)},76:function(e,a,t){},78:function(e,a,t){}},[[71,2,1]]]);
//# sourceMappingURL=main.de69bc99.chunk.js.map